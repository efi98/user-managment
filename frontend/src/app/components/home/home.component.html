<!-- Dashboard Statistics -->
<div class="home-container">
    <h1 class="dashboard-header">User Management Dashboard Stats</h1>
    <div class="dashboard">
        @if (stats) {
            <div class="dashboard-card">
                <h3>Total Users</h3>
                <div class="stat-value">{{ stats.totalUsers }}</div>
            </div>
            <div class="dashboard-card">
                <h3>Admins</h3>
                <div class="stat-value">{{ stats.adminCount }}</div>
                <div>{{ stats.adminPercent }}%</div>
            </div>
            <div class="dashboard-card">
                <h3>Recent Signups (7 days)</h3>
                <div class="stat-value">{{ stats.recentSignups }}</div>
            </div>
            <div class="dashboard-card">
                <h3>Gender Breakdown</h3>
                <ul>
                    @for (g of statKeys(stats.genderBreakdown, 1); track g) {
                        <li>
                            <b>{{ g === 'blank' ? 'Blank' : (g | titlecase) }}:</b> {{ stats.genderBreakdown[g] }}
                            @if (stats.totalUsers > 0) {
                                <span> ({{ ((stats.genderBreakdown[g] / stats.totalUsers) * 100) | number:'1.0-1' }}
                                    %)</span>
                            }
                        </li>
                    }
                </ul>
            </div>
            @if (stats.ageStats) {
                <div class="dashboard-card">
                    <h3>Age Statistics</h3>
                    <ul>
                        @for (g of statKeys(stats.ageStats); track g) {
                            <li>
                                <b>{{ g | titlecase }}:</b> {{ stats.ageStats[g] }}
                            </li>
                        }
                    </ul>
                </div>
            }
        }
    </div>
</div>
